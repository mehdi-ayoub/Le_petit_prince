<!-- app/views/planets/index.html.erb -->

<div style="width: 100%; height: 500px;"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
</div>

<div class="container mt-3">
  <div class="row">
    <% @planets.each do |planet| %>
      <div class="col-md-3 mb-4">
        <div class="card card-index" style="width: 18rem;">
          <img src="<%= planet.image_url %>" class="card-img-top image-index" alt="<%= planet.title %> Image">
          <div class="card-body">
            <h5 class="card-title"><%= planet.title %></h5>
            <p class="card-text"><%= planet.spaceport %></p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">Renting Price: $<%= planet.renting_price %></li>
            <li class="list-group-item">Owner: <%= planet.user.name %></li>
          </ul>
          <div class="card-body d-flex p-2">
            <%= link_to "Show planet", planet, class:"card-text"%>
            <%= link_to "Edit Planet", edit_planet_path(planet), class:"card-text"%>
            <%= link_to "Destroy Planet", planet_path(planet), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "card-text" %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
